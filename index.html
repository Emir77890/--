<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blade Clicker</title>
<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0b0b0b;
  color:#fff;
  text-align:center;
}
h1{color:#ff4444}
#game,#skins{display:none}
button{
  padding:14px 22px;
  margin:8px;
  border:none;
  border-radius:12px;
  background:#1e1e1e;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
#blade{
  width:160px;
  height:160px;
  margin:20px auto;
  border-radius:30px;
  background:red;
  box-shadow:0 0 30px red;
  cursor:pointer;
  transition:.1s;
}
#blade:active{transform:scale(.9);}
.skin{
  width:60px;
  height:60px;
  border-radius:12px;
  display:inline-block;
  margin:8px;
  border:2px solid #444;
  cursor:pointer;
}
</style>
</head>
<body>

<div id="menu">
  <h1>Blade Clicker</h1>
  <button onclick="start()">Играть</button>
  <button onclick="openSkins()">Скины</button>
</div>

<div id="game">
  <h3>Золото: <span id="gold">0</span></h3>
  <h3>Сила: <span id="power">1</span></h3>

  <div id="blade"></div>

  <button onclick="upgrade()">Улучшить — <span id="price">10</span></button>
  <br>
  <button onclick="back()">Назад</button>
</div>

<div id="skins">
  <h2>Скины</h2>

  <!-- бесплатные -->
  <div class="skin" style="background:red" onclick="setSkin('red')"></div>
  <div class="skin" style="background:blue" onclick="setSkin('blue')"></div>
  <div class="skin" style="background:green" onclick="setSkin('green')"></div>
  <div class="skin" style="background:purple" onclick="setSkin('purple')"></div>

  <!-- платные -->
  <div class="skin" style="background:gold" onclick="buySkin('gold',300)"></div>
  <div class="skin" style="background:linear-gradient(45deg,red,yellow)" onclick="buySkin('fire',500)"></div>
  <div class="skin" style="background:linear-gradient(45deg,blue,cyan)" onclick="buySkin('ice',500)"></div>
  <div class="skin" style="background:#00ffcc;box-shadow:0 0 15px #00ffcc" onclick="buySkin('neon',800)"></div>

  <br>
  <button onclick="back()">Назад</button>
</div>

<script>
// Переменные
let gold = Number(localStorage.getItem('gold')) || 0;
let power = Number(localStorage.getItem('power')) || 1;
let price = Number(localStorage.getItem('price')) || 10;
let skin = localStorage.getItem('skin') || "red";
let owned = JSON.parse(localStorage.getItem('owned') || '["red","blue","green","purple"]');

// Элементы
const goldEl = document.getElementById("gold");
const powerEl = document.getElementById("power");
const priceEl = document.getElementById("price");
const blade = document.getElementById("blade");
const menu = document.getElementById("menu");
const game = document.getElementById("game");
const skins = document.getElementById("skins");

// Клик на меч
blade.addEventListener('click', () => {
  gold += power;
  update();
  save();
});

// Сохранение
function save(){
  localStorage.setItem('gold', gold);
  localStorage.setItem('power', power);
  localStorage.setItem('price', price);
  localStorage.setItem('skin', skin);
  localStorage.setItem('owned', JSON.stringify(owned));
}

// Меню
function start(){menu.style.display="none"; game.style.display="block"; update();}
function back(){game.style.display=skins.style.display="none"; menu.style.display="block";}
function openSkins(){menu.style.display="none"; skins.style.display="block";}

// Улучшение
function upgrade(){
  if(gold >= price){
    gold -= price;
    power++;
    price += 10;
    update();
    save();
  }
}

// Скины
function setSkin(s){if(owned.includes(s)){skin=s;update();save();}}
function buySkin(s,c){if(!owned.includes(s) && gold>=c){gold-=c;owned.push(s);skin=s;update();save();}}

// Обновление
function update(){
  goldEl.textContent = gold;
  powerEl.textContent = power;
  priceEl.textContent = price;

  blade.style.background =
    skin==="fire" ? "linear-gradient(45deg,red,yellow)" :
    skin==="ice" ? "linear-gradient(45deg,blue,cyan)" :
    skin==="neon" ? "#00ffcc" :
    skin;

  blade.style.boxShadow = "0 0 30px "+(skin==="neon"?"#00ffcc":skin);
}

update();
</script>

</body>
</html>
