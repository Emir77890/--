<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blade Clicker VIP</title>
<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial,sans-serif;text-align:center;}
button{padding:10px 18px;margin:5px;font-size:16px;border:none;border-radius:10px;background:#1e1e1e;color:#fff;cursor:pointer;}
#menu,#game,#shop,#profile,#admin{display:none;}
#blade{width:160px;height:160px;margin:20px auto;border-radius:30px;background:red;box-shadow:0 0 25px red;cursor:pointer;font-size:80px;display:flex;align-items:center;justify-content:center;}
#blade:active{transform:scale(.92);}
.skin{width:60px;height:60px;display:inline-flex;align-items:center;justify-content:center;margin:5px;border-radius:12px;cursor:pointer;border:3px solid #333;font-size:32px;}
.skin.selected{box-shadow:0 0 10px #fff;}
.section{margin:15px 0;}
.bottom-medal{position:fixed;bottom:0;left:0;right:0;background:#111;padding:8px;font-size:14px;border-top:1px solid #333;}
input{padding:6px;border-radius:6px;border:none;margin:4px;}
.ui {
  background-color: red;
}
</style>
</head>
<body>

<div id="menu">
<h1 class="ui">Blade Clicker VIP</h1>
<button onclick="openGame()">–ò–≥—Ä–∞—Ç—å</button>
<button onclick="openShop()">–ú–∞–≥–∞–∑–∏–Ω</button>
<button onclick="openProfile()">–ü—Ä–æ—Ñ–∏–ª—å</button>
<button onclick="openAdmin()">–ê–¥–º–∏–Ω</button>
</div>

<div id="game">
<h3>–ó–æ–ª–æ—Ç–æ: <span id="gold">0</span></h3>
<h3>–°–∏–ª–∞: <span id="power">1</span></h3>
<div id="blade">üü•</div>
<button onclick="upgrade()">–£–ª—É—á—à–∏—Ç—å (+1 —Å–∏–ª–∞, <span id="price">10</span> –∑–æ–ª–æ—Ç–∞)</button><br>
<button onclick="back()">–ù–∞–∑–∞–¥</button>
</div>

<div id="shop">
<h2>üêæ –ñ–∏–≤–æ—Ç–Ω—ã–µ (—Å–∫–∏–Ω—ã)</h2>
<div id="skins"></div>
<div class="section">
<h3>üéÅ –ö–µ–π—Å—ã</h3>
<button onclick="openCase('common')">–û–±—ã—á–Ω—ã–π (500üí∞)</button>
<button onclick="openCase('rare')">–†–µ–¥–∫–∏–π (1500üí∞)</button>
<button onclick="openCase('epic')">–≠–ø–∏—á–µ—Å–∫–∏–π (4000üí∞)</button>
<button onclick="openCase('legendary')">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π (10000üí∞)</button>
<p id="caseResult"></p>
</div>
<div class="section">
<h3>üéüÔ∏è –ü—Ä–æ–º–æ–∫–æ–¥</h3>
<input id="promoInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥">
<button onclick="usePromo()">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
</div>
<button onclick="back()">–ù–∞–∑–∞–¥</button>
</div>

<div id="profile">
<h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
<p>üí∞ –ó–æ–ª–æ—Ç–æ: <span id="pGold">0</span></p>
<p>‚öîÔ∏è –°–∏–ª–∞: <span id="pPower">1</span></p>
<p>üêæ –°–∫–∏–Ω: <span id="pSkin">–ù–µ—Ç</span></p>
<h3>üèÖ –ú–µ–¥–∞–ª—å–∫–∞:</h3>
<div id="medalDisplay"></div>
<button onclick="back()">–ù–∞–∑–∞–¥</button>
</div>

<div id="admin">
<h2>üîß –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
<input id="adminGold" type="number" placeholder="–ó–æ–ª–æ—Ç–æ">
<button onclick="setGold()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–æ–ª–æ—Ç–æ</button><br>
<input id="adminPower" type="number" placeholder="–°–∏–ª–∞">
<button onclick="setPower()">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–ª—É</button><br>
<h3>–ü—Ä–æ–º–æ–∫–æ–¥—ã</h3>
<input id="adminPromoCode" placeholder="–ö–æ–¥">
<select id="adminPromoType">
<option value="gold">–ó–æ–ª–æ—Ç–æ</option>
<option value="power">–°–∏–ª–∞</option>
<option value="skin">–°–∫–∏–Ω</option>
</select>
<input id="adminPromoValue" placeholder="–ó–Ω–∞—á–µ–Ω–∏–µ">
<button onclick="addPromo()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥</button>
<div id="promoList"></div>
<br><button onclick="back()">–ù–∞–∑–∞–¥</button>
</div>

<div class="bottom-medal" id="bottomMedal">üèÖ –ù–µ—Ç –º–µ–¥–∞–ª—å–∫–∏</div>

<script>
// ---- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ----
let gold = +localStorage.gold || 0;
let power = +localStorage.power || 1;
let price = +localStorage.price || 10;
let skin = localStorage.skin || 'üü•';
let promos = JSON.parse(localStorage.promos || '{}');

const skins = [
{icon:'üê±',rarity:'common',price:500},{icon:'üê∂',rarity:'common',price:500},
{icon:'üê∫',rarity:'rare',price:1200},{icon:'üêØ',rarity:'rare',price:1500},
{icon:'ü¶Å',rarity:'epic',price:3000},{icon:'üêâ',rarity:'legendary',price:7000},
{icon:'ü¶ä',rarity:'common',price:600},{icon:'üêº',rarity:'rare',price:2000},
{icon:'ü¶Ñ',rarity:'epic',price:3500},{icon:'üê≤',rarity:'legendary',price:8000},
{icon:'üê∏',rarity:'common',price:500},{icon:'üêµ',rarity:'common',price:500},
{icon:'ü¶ç',rarity:'rare',price:2500},{icon:'üêî',rarity:'common',price:500},
{icon:'üêß',rarity:'rare',price:1500},{icon:'ü¶Ö',rarity:'epic',price:3000},
{icon:'ü¶à',rarity:'legendary',price:7500},{icon:'üê¥',rarity:'common',price:500},
{icon:'ü¶â',rarity:'rare',price:2000}
];

const medals = [
{name:'–ë—Ä–æ–Ω–∑–∞',level:100,color:'bronze'},
{name:'–°–µ—Ä–µ–±—Ä–æ',level:250,color:'silver'},
{name:'–ó–æ–ª–æ—Ç–æ',level:400,color:'gold'},
{name:'–ü–ª–∞—Ç–∏–Ω–∞',level:550,color:'platinum'},
{name:'–î–∏–∞–º–∞–Ω—Ç',level:1000,color:'diamond'},
{name:'–õ–µ–≥–µ–Ω–¥–∞',level:2000,color:'legend'},
{name:'–ê–¥–º',level:100000,color:'admin'},
{name:'–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫',level:250000,color:'developer'}
];

// ---- DOM ----
const goldEl=document.getElementById('gold');
const powerEl=document.getElementById('power');
const priceEl=document.getElementById('price');
const blade=document.getElementById('blade');
const promoInput=document.getElementById('promoInput');
const promoList=document.getElementById('promoList');
const medalDisplay=document.getElementById('medalDisplay');
const pGold=document.getElementById('pGold');
const pPower=document.getElementById('pPower');
const pSkin=document.getElementById('pSkin');

// ---- –§—É–Ω–∫—Ü–∏–∏ ----
function save(){localStorage.gold=gold; localStorage.power=power; localStorage.price=price; localStorage.skin=skin; localStorage.promos=JSON.stringify(promos);}
function update(){
goldEl.textContent=gold; powerEl.textContent=power; priceEl.textContent=price;
pGold.textContent=gold; pPower.textContent=power; pSkin.textContent=skin;
blade.textContent=skin;
renderSkins(); renderMedal(); renderPromos();
}

function bladeClick(){gold+=power; save(); update();}
blade.onclick=bladeClick;

function upgrade(){if(gold>=price){gold-=price; power++; save(); update();}}

// ---- –°–∫–∏–Ω—ã ----
function renderSkins(){
const box=document.getElementById('skins'); if(!box) return;
box.innerHTML='';
skins.forEach(s=>{
  const d=document.createElement('div');
  d.className='skin '+s.rarity+(skin===s.icon?' selected':'');
  d.textContent=s.icon;
  d.title=s.rarity.toUpperCase()+' ‚Äî '+s.price+'üí∞';
  d.onclick=()=>{if(gold<s.price) return alert('–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∑–æ–ª–æ—Ç–∞!'); gold-=s.price; skin=s.icon; save(); update();}
  box.appendChild(d);
});
}

// ---- –ú–µ–¥–∞–ª—å–∫–∏ ----
function renderMedal(){
medalDisplay.innerHTML='';
for(let i=medals.length-1;i>=0;i--){
if(power>=medals[i].level){
const m=document.createElement('div');
m.className='medal '+medals[i].color; m.title=medals[i].name+' ('+medals[i].level+')';
medalDisplay.appendChild(m); break;
}
}
document.getElementById('bottomMedal').textContent='üèÖ '+(medalDisplay.firstChild?medalDisplay.firstChild.title:'–ù–µ—Ç –º–µ–¥–∞–ª—å–∫–∏');
}

// ---- –ö–µ–π—Å—ã ----
function openCase(type){
const prices={common:500,rare:1500,epic:4000,legendary:10000};
if(gold<prices[type]) return alert('–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –∑–æ–ª–æ—Ç–∞!');
const pool=skins.filter(s=>s.rarity===type);
const drop=pool[Math.floor(Math.random()*pool.length)];
gold-=prices[type]; skin=drop.icon;
document.getElementById('caseResult').textContent='–í—ã–ø–∞–ª–æ: '+drop.icon;
save(); update();
}

// ---- –ü—Ä–æ–º–æ–∫–æ–¥—ã ----
function usePromo(){
const code=promoInput.value.toUpperCase();
if(!promos[code]) return alert('–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥');
const p=promos[code];
if(p.type==='gold') gold+=+p.value;
else if(p.type==='power') power+=+p.value;
else if(p.type==='skin') skin=p.value;
delete promos[code];
save(); update(); renderPromos();
}

function addPromo(){
const code=document.getElementById('adminPromoCode').value.toUpperCase();
const type=document.getElementById('adminPromoType').value;
let value=document.getElementById('adminPromoValue').value;
if(!code||!value) return alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ');
promos[code]={type:type,value:value};
save(); renderPromos();
}

function renderPromos(){
promoList.innerHTML='';
Object.keys(promos).forEach(k=>{
const p=document.createElement('p'); p.textContent=k+' ‚Üí '+promos[k].type+' +'+promos[k].value; promoList.appendChild(p);
});
}

// ---- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ----
function openAdmin(){
const p=prompt('–ü–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞');
if(p!=='ADM-9021') return alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å');
hideAll();
document.getElementById('admin').style.display='block';
renderPromos();
}

function setGold(){gold=+document.getElementById('adminGold').value||gold; save(); update();}
function setPower(){power=+document.getElementById('adminPower').value||power; save(); update();}

// ---- –ù–∞–≤–∏–≥–∞—Ü–∏—è ----
function hideAll(){
['menu','game','shop','profile','admin'].forEach(id=>{
let el=document.getElementById(id);
if(el) el.style.display='none';
});
}
function openGame(){hideAll(); document.getElementById('game').style.display='block';}
function openShop(){hideAll(); document.getElementById('shop').style.display='block'; renderSkins();}
function openProfile(){hideAll(); document.getElementById('profile').style.display='block'; update();}
function back(){hideAll(); document.getElementById('menu').style.display='block';}

// ---- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ----
update(); hideAll(); document.getElementById('menu').style.display='block';
</script>
</body>
</html>
